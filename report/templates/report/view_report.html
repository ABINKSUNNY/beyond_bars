{% extends 'temp/suprt.html' %}
{% load static %}
{% block base %}

<style>
    h1 {
        text-align: center;
        color: #2c3e50;
        margin: 20px 0;
    }
    form {
        text-align: center;
        margin-bottom: 20px;
    }
    input[type="date"] {
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 5px;
    }
    button {
        padding: 8px 14px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        margin-left: 10px;
    }
    table {
        width: 80%;
        margin: auto;
        border-collapse: collapse;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    th, td {
        padding: 12px;
        text-align: center;
        border: 1px solid #ccc;
    }
    th {
        background-color: #f4f4f4;
    }
    tr:nth-child(even) {
        background-color: #fafafa;
    }
    .btn {
        background-color: #28a745;
        color: white;
        padding: 6px 12px;
        text-decoration: none;
        border-radius: 4px;
    }
</style>

<h1>Pending Reports</h1>

<form method="get">
    <label for="date">Filter by Date: </label>
    <input type="date" name="date" id="date" value="{{ selected_date }}">
    <button type="submit">Filter</button>
</form>

<table>
    <tr>
        <th>Report</th>
        <th>Date</th>
        <th>Time</th>
{#        <th>Status</th>#}
        <th>Download</th>
    </tr>
    {% for r in obj %}
    <tr>
        <td>{{ r.report }}</td>
        <td>{{ r.date }}</td>
        <td>{{ r.time }}</td>
{#        <td>{{ r.status }}</td>#}
        <td>
            {% if r.report %}
                <a href="/media/{{ r.report }}" class="btn" download>Download</a>
            {% else %}
                N/A
            {% endif %}
        </td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="5">No pending reports for this date.</td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
